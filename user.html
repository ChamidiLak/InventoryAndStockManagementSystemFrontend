<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Users</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <h3 class="mb-3">Registered Users</h3>
  <table class="table table-bordered">
    <thead class="table-primary">
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Phone</th>
      <th>Email</th>
      <th>Username</th>
    </tr>
    </thead>
    <tbody id="userTableBody">
    <!-- Populated by JS -->
    </tbody>
  </table>
</div>

<script>
  function loadUsers() {
    fetch("http://localhost:8080/users")
            .then(response => response.json())
            .then(data => {
              const tbody = document.getElementById("userTableBody");
              tbody.innerHTML = "";
              data.forEach(user => {
                const row = `<tr>
                        <td><img src="${user.image}" width="60" height="60" style="object-fit:cover;border-radius:50%;"></td>
                        <td>${user.name}</td>
                        <td>${user.phone}</td>
                        <td>${user.email}</td>
                        <td>${user.username}</td>
                    </tr>`;
                tbody.innerHTML += row;
              });
            })
            .catch(error => console.error("Error loading users:", error));
  }

  document.addEventListener("DOMContentLoaded", loadUsers);
</script>
</body>
</html>
